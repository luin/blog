<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>从基础到上架：使用 Swift 开发 iOS 应用 | Zihua Li</title>
      <link href="http://zihua.li/feed" type="application/rss+xml" rel="alternate" title="Zihua Li RSS Feed" />
    <link rel='stylesheet'  href='http://zihua.li/theme/css/vendor/han.css' type='text/css' media='all' />
    <link rel='stylesheet'  href='http://zihua.li/theme/css/style.css' type='text/css' media='all' />
    <link rel='stylesheet'  href='http://zihua.li/theme/css/highlight.css' type='text/css' media='all' />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="author" href="https://plus.google.com/107380206942623407058/posts" />
    <!--[if lt IE 9]> <script src="http://zihua.li/theme/js/vendor/html5shiv.js"></script> <![endif]-->
</head>
<body>
  <section class="l-cover">
    <header id="banner" class="body">
      <div class="header-avatar"><a href="http://zihua.li/"><img src="http://zihua.li/theme/images/avatar.png" width="64" height="64" alt="" /></a></div>
      <h1 class="site-name"><a href="http://zihua.li/">Zihua Li</a></h1>
      <p class="description">
        美工、全栈码农（Web, iOS）<br>90 后，法号 Luin<br />
        [<a href="http://zihua.li/pages/about/">关于</a>, <a href="http://zihua.li/pages/novel/">小说</a>]
      </p>
      <ul class="social-links">
        <li><a href="https://twitter.com/luinlee">Twitter</a></li>
        <li><a href="https://github.com/luin">GitHub</a></li>
        <li><a href="http://dribbble.com/luin">Dribbble</a></li>
      </ul>
    </header>
  </section>
  <section class="l-content">
    <div class="inner">
<article class="han-init-context">
  <header>
    <h2 class="article-title">
      从基础到上架：使用 Swift 开发 iOS 应用
    </h3>
  </header>
  <div class="typo article-body">
    <h2>热身周 第四天</h2>
<p>昨天我们学会了如何在 Storyboard 中加入控件。</p>
<h3>0. 课程目标</h3>
<ol>
<li>了解如何使用代码设置控件的属性</li>
<li>了解如何在代码中响应控件的事件</li>
</ol>
<h3>1. 【视频】通过代码设置 Textfield 的值</h3>
<p>在 Storyboard 中，和 Lable 控件一样，我们可以通过双击 Textfield 来修改文本框中的内容，也可以在属性面板中设置，如下图所示：</p>
<p><img alt="" src="http://swift-lesson.qiniudn.com/4.png" /></p>
<p>而在实际开发中，更常会用到使用代码来修改或获取控件的值。下面的视频接着昨天的项目，介绍了在 Xcode 中连接控件和代码的方法：</p>
<video width="720" controls>
    <source src="http://swift-lesson.qiniudn.com/video3.mp4" type="video/mp4">
    Your browser does not support the video tag or the file format of this video.
</video>

<h3>2. 【习题】通过代码设置 Label 的值</h3>
<p>学会了如何通过代码设置 Textfield 的值，请大家自己动手用代码设置 Label 的值为“I love Swift”，然后使用 Git 提交所做的修改。</p>
<h3>3. 【视频】响应控件的事件</h3>
<p>Xcode 神奇地让代码与控件之间只需要简单的拖拽即可相互连接，同样在代码中响应控件的事件也是非常容易。下面的视频将会介绍如何响应 Textfield 的事件实现 firstTextfield 和 secondTextfield 的值同步变化：</p>
<video width="720" controls>
    <source src="http://swift-lesson.qiniudn.com/video4.mp4" type="video/mp4">
    Your browser does not support the video tag or the file format of this video.
</video>

<h3>4. 【习题】响应 Button 控件的事件</h3>
<p>Button 是最常用的控件之一。请大家向界面中拖入一个 Button，并响应其 Touch Up Inside 事件实现点击按钮后 Label 的内容变成 firstTextfield 的值。使用 Git 提交所做的修改。</p>
<h3>5. 学会修改和删除连接</h3>
<p>我们已经学会如何将控件和代码连接起来，那么在哪里能够查看到一个控件到底和哪段代码相连接了呢？更进一步，如何才能修改和删除这些连接呢？</p>
<p>我们刚刚建立了两个 IBOutlet 和两个 IBAction，其中 IBOutlet 用来获取和设置控件属性，IBAction 用来响应控件事件。在代码里声明 IBOutlet 或是 IBAction 时，其前面都会有实心或空心圆圈，如下图所示：</p>
<p><img alt="" src="http://swift-lesson.qiniudn.com/5.png" /></p>
<p>上图中的实心圆圈表示对应的 IBOutlet 已经和控件相绑定。现在我们来用两种方法删除代码和控件的关联：第一种是方法是直接将对应的控件删除，则其和代码间的连接也自然而然地删除了。另一种方式选中控件，然后在侧边栏中找到 Connections inspector，如下图所示：</p>
<p><img alt="" src="http://swift-lesson.qiniudn.com/6.png" /></p>
<p>上图是 secondTextfield 的 Connections inspector，可以看到目前有两个连接，一个是 Sent Events 下面的 Editing Changed，即 IBAction，另一个是 Referencing Outlets 下面的 secondTextfield，即 IBOutlet。如果要删除，点击对应连接的“X”号即可删除。删除后，对应代码中的 IBOutlet（或 IBAction）前面的圆圈会变成空心，表示没有和控件连接。</p>
<p>另一方面，如果我们直接将代码中已经连接的 IBOutlet 或 IBAction 语句删除，则运行时会产生错误。这是因为连接的信息是保存在 Storyboard 中的，只是在代码中删除连接，会使得 Storyboard 找不到对应的语句，从而报错。这时要同时在控件的 Connections inspector 中将对应连接删除才行。</p>
<h3>6. 【选做练习】</h3>
<p>Storyboard 最终会生成 XML 布局文件，可以通过右键点击 Main.storyboard 选择 Open As Source Code 来查看（如下图所示）。
 <img alt="" src="http://swift-lesson.qiniudn.com/7.png" /></p>
<p>在其中找到 IBOutlet 和 IBAction 连接定义的位置。</p>
  </div>
</article>
    </div>
  </section>
  <script src="http://zihua.li/theme/js/vendor/han.js"></script>
  <script>
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-46124852-1', 'zihua.li');
    ga('send', 'pageview');
  </script>
</body>
</html>